<% layout("/layout/boilerplate") %> 
<style>
  #filters{
    margin: 2rem 1rem;
    padding: 0rem 0.5rem;
    display: flex;
    gap: 10px;
    width: 100%;
    
  }
  .welcome{
    border:2px solid ;
    background-color: #ef476f;
    border-radius: 5px;
    padding: 0.3rem 1.5rem;
    display: flex;
    justify-content: center;
    align-items: baseline;
    gap: 4px;
    font-size: 18px;
    transition: 0.2s ease-in;
    box-shadow: 2px 3px 8px rgba(0,0,0,0.5);
  }
  .room-details {
    width: 20rem; 
    border: 2px solid white;
    padding: 2px 5px;
    box-shadow: 2px 3px 10px rgba(0, 0, 0, 0.5);
  }
  a {
    text-decoration: none;
    color: black;
  }
  .icon{
    padding-top: 0.7rem;
    padding-right: 0.25rem;
  }
  .welcome:hover{
    
    cursor: pointer;
    transform: scale(1.08);
  }
  .welcome p, .welcome i {
    color: white;
  }

  .welcome p {
    font-weight: 400;
  }
  .tax-info{
        display: none;
    }
    .tax-toggle{
        border-radius: 1rem;
        height: 3.5rem;
        padding: 1rem;
        margin-left: 5rem;
    }

    .tax-container {
      display: flex;
      justify-content: flex-end;
      align-items: flex-start;
      gap: 10px;
      font-size: 1.3em;
    }
 
</style>

<body>
  <div id="filters">
    <div class="welcome">
      <i class="fa-solid fa-door-open icon"></i>
      <p style="padding-top:0.5rem">Welcome</p>
       
    </div>
  
    <a href="/listings/findhome">
      <div class="welcome">
        <i class="fa-solid fa-hotel icon"></i>
        <p style="padding-top:0.5rem">Find A Room</p>
         
    </div>

    </a>
      
    
    <a href="/listings/new">
      <div class="welcome">
        
        <i class="fa-solid fa-house icon"></i>
        <p style="padding-top:0.5rem">Rent a Room</p>
      </div>

    </a>
      
      <div class="welcome">
        <i class="fa-solid fa-helmet-safety icon"></i>
        <p style="padding-top:0.5rem">Safety</p>
      </div>
      <div class="welcome">
        <i class="fa-solid fa-person-skating"></i>
        <p style="padding-top:0.5rem">Adventue</p>
      </div>
      <div class="welcome">
        <i class="fa-solid fa-people-group"></i>
        <p style="padding-top:0.5rem">Community</p>
      </div>
      <a href="/bookingslist" id="bookingsLink">
        <div class="welcome">
          <i class="fa-solid fa-people-group"></i>
          <p style="padding-top:0.5rem">Bookings</p>
        </div>

      </a>
      

   

  </div>
  <div class="tax-toggle">
    <div class="form-check-reverse form-switch tax-container">
      <label class="form-check-label" for="flexSwitchCheckDefault" style="color: wheat;">Display total after taxes</label>
        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault" style="cursor: pointer;">
      </div>
</div>
  
  

<div class="row row-cols-lg-3 row-cols-md-3 row-cols-sm-1 mt-3">
            
  <% for(let listing of allListings) { %>
      <a href="/listings/<%= listing._id%>" class="listing-link" >
          <div class="card room-details">
              <img src="<%= listing.image.url %>" class="card-img-top" alt="..." style="height:20rem">
              <div class="card-img-overlay"></div>
              <div class="card-body">
                <p class="card-text">
                  <b><%= listing.title %></b> <br/>
                  &#8377; <%= listing.price %>
                  <i class="tax-info"> &nbsp; &nbsp;+18% GST </i>
              </p>
              </div>
            </div>
      </a>
     
      <%}%>
</div> 


</body>

<script>
  let taxSwitch = document.getElementById("flexSwitchCheckDefault");
  taxSwitch.addEventListener("click",() => {
      let taxInfo = document.getElementsByClassName("tax-info");
      for(info of taxInfo){
          if(info.style.display != "inline"){
              info.style.display = "inline";
          }else{
              info.style.display = "none";
          }
      }
  })
</script>
