<% layout("/layout/boilerplate") %> 
<style>
  #filters{
    margin: 2rem 1rem;
    padding: 0rem 0.5rem;
    display: flex;
    gap: 10px;
    width: 100%;
    
  }
  .welcome{
    border:2px solid ;
    background-color: #ef476f;
    border-radius: 5px;
    padding: 0.3rem 1.5rem;
    display: flex;
    justify-content: center;
    align-items: baseline;
    gap: 4px;
    font-size: 18px;
    transition: 0.2s ease-in;
    box-shadow: 2px 3px 8px rgba(0,0,0,0.5);
  }
  .room-details {
    width: 20rem; 
    border: 2px solid white;
    padding: 2px 5px;
    box-shadow: 2px 3px 10px rgba(0, 0, 0, 0.5);
  }
  a {
    text-decoration: none;
    color: black;
  }
  .icon{
    padding-top: 0.7rem;
    padding-right: 0.25rem;
  }
  .welcome:hover{
    
    cursor: pointer;
    transform: scale(1.08);
  }
  .welcome p, .welcome i {
    color: white;
  }

  .welcome p {
    font-weight: 400;
  }
  .tax-info{
        display: none;
    }
    .tax-toggle{
        border-radius: 1rem;
        height: 3.5rem;
        padding: 1rem;
        margin-left: 5rem;
    }

    .tax-container {
      display: flex;
      justify-content: flex-end;
      align-items: flex-start;
      gap: 10px;
      font-size: 1.3em;
    }

    .listing-description {
      overflow: hidden;
    -webkit-line-clamp: 3;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    }

    .listings-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 20px;
    }

    .list-item {
      margin-bottom: 15px;
      transition: transform 300ms;
    }

    .list-item:hover {
      transform: scale(1.1);
    }

    .listing-price {
      font-weight: 600;
      font-size: 1.5em;
       font-family: Open Sans, sans-serif;
    }

    .listing-location {
      font-size: 1.2em;
    font-weight: 500;
    }

    .places-list {
      padding: 3em;
      background-color: #fefcfb;
      border-radius: 10px;
      box-shadow: 2px 3px 10px rgba(0, 0, 0, 0.5);
    }

    .places-container {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
     
      }

    .same-place {
      position: relative;
    }

    .same-place.place::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: -1;
      background-color: #034078;
      transform: scaleX(0);
      transition: transform 300ms ease-in;
      transform-origin: left;
    }

    .same-place.place:hover::before {
      transform: scalex(1);
    }

    .same-place.place {
      z-index: 1;
      cursor: pointer;
    }

    .same-place.place:hover {
      color: white;
    }

    .place {
      background-color: rgba(255,255,255,0.7);
    padding: 15px 50px;
    border-radius: 10px;
    font-size: 1.2em;
    font-weight: 300;
    border: 2px solid;
    }
 
</style>

<body>
  <div id="filters">
    <div class="welcome">
      <i class="fa-solid fa-door-open icon"></i>
      <p style="padding-top:0.5rem">Welcome</p>
       
    </div>
  
    <a href="/listings/findhome">
      <div class="welcome">
        <i class="fa-solid fa-hotel icon"></i>
        <p style="padding-top:0.5rem">Find A Room</p>
         
    </div>

    </a>
      
    
    <a href="/listings/new">
      <div class="welcome">
        
        <i class="fa-solid fa-house icon"></i>
        <p style="padding-top:0.5rem">Rent a Room</p>
      </div>

    </a>
      
      <div class="welcome">
        <i class="fa-solid fa-helmet-safety icon"></i>
        <p style="padding-top:0.5rem">Safety</p>
      </div>
      <div class="welcome">
        <i class="fa-solid fa-person-skating"></i>
        <p style="padding-top:0.5rem">Adventue</p>
      </div>
      <div class="welcome">
        <i class="fa-solid fa-people-group"></i>
        <p style="padding-top:0.5rem">Community</p>
      </div>
      <a href="/bookingslist" id="bookingsLink">
        <div class="welcome">
          <i class="fa-solid fa-people-group"></i>
          <p style="padding-top:0.5rem">Bookings</p>
        </div>

      </a>
      

   

  </div>
  <div class="tax-toggle">
    <div class="form-check-reverse form-switch tax-container">
      <label class="form-check-label" for="flexSwitchCheckDefault" style="color: wheat;">Display total after taxes</label>
        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault" style="cursor: pointer;">
      </div>
</div>
  
  

<div class="listings-container">
            
  <% for(let listing of allListings) { %>
          <div class="card list-item" style="width: 18rem; padding: 0;">
              <img src="<%= listing.image.url %>" class="card-img-top" alt="..." style="margin-top: 0; border-radius: 0; filter: drop-shadow(0 10px 10px rgba(0,0,0,0.6));">
              <div class="card-body">
                <h5 class="card-title"><%= listing.title %></h5>
                <p class="card-text listing-description"><%=listing.description %></p>
                <p class="card-text listing-location">
                  <%= listing.location %>
                  </p>
                <p class="card-text listing-price">
                  &#8377; <%= listing.price %> /-
                  <i class="tax-info"> &nbsp; &nbsp;+18% GST </i>
                  <br/> </p>
                  <a href="/listings/<%= listing._id%>" class="btn btn-primary" style="transform: translateX(240%); padding: 8px 12px;">View <i class="fa-solid fa-angle-right"></i></a>
              </div>
            </div>     
      <%}%>
</div> 


<div class="places-list">
<p class="display-6" style="font-size: 2.2em;
text-align: center;">Available in Places</p> <br />

<div class="places-container">
  <div class="same-place place">
    Banglore, India
  </div>
  <div class="same-place place">
    Hyderabad, India
  </div>
  <div class="same-place place">
    Chennai, India
  </div>
  <div class="same-place place">
    Goa, India
  </div>
  <div class="same-place place">
    Kerela, India
  </div>
  <div class="same-place place">
    Mumbai, India
  </div>
</div>
</div>

</body>

<script>
  let taxSwitch = document.getElementById("flexSwitchCheckDefault");
  taxSwitch.addEventListener("click",() => {
      let taxInfo = document.getElementsByClassName("tax-info");
      for(info of taxInfo){
          if(info.style.display != "inline"){
              info.style.display = "inline";
          }else{
              info.style.display = "none";
          }
      }
  })
</script>